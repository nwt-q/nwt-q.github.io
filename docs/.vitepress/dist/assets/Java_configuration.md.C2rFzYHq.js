import{_ as t,C as e,c as n,o as r,j as s,G as p,a8 as o,a as l}from"./chunks/framework.DMZhn_gK.js";const m=JSON.parse('{"title":"Java 读取配置文件中的配置信息","description":"","frontmatter":{},"headers":[],"relativePath":"Java/configuration.md","filePath":"Java/configuration.md","lastUpdated":null}'),d={name:"Java/configuration.md"};function h(c,a,k,u,g,b){const i=e("ArticleMetadata");return r(),n("div",null,[a[0]||(a[0]=s("h1",{id:"java-读取配置文件中的配置信息",tabindex:"-1"},[l("Java 读取配置文件中的配置信息 "),s("a",{class:"header-anchor",href:"#java-读取配置文件中的配置信息","aria-label":'Permalink to "Java 读取配置文件中的配置信息"'},"​")],-1)),p(i),a[1]||(a[1]=o(`<p>在 Java 中读取配置文件的注解<strong>在 Java 中读取配置文件的注解</strong>没有统一的 “单个注解”**，核心取决于你使用的技术栈（如 Spring/Spring Boot、原生 Java 等），不同场景下注解体系不同。以下是最常用的场景和对应注解：</p><h3 id="一、spring-spring-boot-最主流" tabindex="-1">一、Spring/Spring Boot（最主流） <a class="header-anchor" href="#一、spring-spring-boot-最主流" aria-label="Permalink to &quot;一、Spring/Spring Boot（最主流）&quot;">​</a></h3><p>Spring Boot 是读取配置文件（<code>application.properties</code>/<code>application.yml</code>）的核心场景，核心注解如下：</p><table tabindex="0"><thead><tr><th>注解</th><th>作用</th></tr></thead><tbody><tr><td><code>@Value</code></td><td>读取单个配置项（支持 SpEL 表达式），直接注入到字段 / 方法参数中</td></tr><tr><td><code>@ConfigurationProperties</code></td><td>批量绑定配置项到 Java 类（支持前缀、类型转换、嵌套属性）</td></tr><tr><td><code>@PropertySource</code></td><td>加载<strong>自定义配置文件</strong>（非默认的 application.yml/properties）</td></tr><tr><td><code>@Configuration</code></td><td>标记配置类，配合上述注解使用（Spring 上下文加载）</td></tr></tbody></table><h4 id="_1-基础用法-value-单个配置" tabindex="-1">1. 基础用法：@Value（单个配置 <a class="header-anchor" href="#_1-基础用法-value-单个配置" aria-label="Permalink to &quot;1. 基础用法：@Value（单个配置&quot;">​</a></h4><div class="language-java vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> org.springframework.beans.factory.annotation.Value;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> org.springframework.stereotype.Component;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">@</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Component</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> AppConfig</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // 读取 application.properties 中的 app.name 配置</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    @</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Value</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;\${app.name:默认名称}&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 冒号后是默认值（配置不存在时使用）</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    private</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> String appName;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // 读取数值类型</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    @</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">Value</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;\${app.port:8080}&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    private</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> appPort;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h4 id="_2-进阶用法-configurationproperties-批量绑定" tabindex="-1">2. 进阶用法：@ConfigurationProperties（批量绑定） <a class="header-anchor" href="#_2-进阶用法-configurationproperties-批量绑定" aria-label="Permalink to &quot;2. 进阶用法：@ConfigurationProperties（批量绑定）&quot;">​</a></h4><h4 id="_3-加载自定义配置文件-propertysource" tabindex="-1">3. 加载自定义配置文件：@PropertySource <a class="header-anchor" href="#_3-加载自定义配置文件-propertysource" aria-label="Permalink to &quot;3. 加载自定义配置文件：@PropertySource&quot;">​</a></h4><h3 id="二、原生-java-无框架" tabindex="-1">二、原生 Java（无框架） <a class="header-anchor" href="#二、原生-java-无框架" aria-label="Permalink to &quot;二、原生 Java（无框架）&quot;">​</a></h3><h3 id="三、其他框架-场景" tabindex="-1">三、其他框架 / 场景 <a class="header-anchor" href="#三、其他框架-场景" aria-label="Permalink to &quot;三、其他框架 / 场景&quot;">​</a></h3><h3 id="核心总结" tabindex="-1">核心总结 <a class="header-anchor" href="#核心总结" aria-label="Permalink to &quot;核心总结&quot;">​</a></h3><table tabindex="0"><thead><tr><th>场景</th><th>核心注解</th><th>备注</th></tr></thead><tbody><tr><td>Spring Boot 单个配置</td><td><code>@Value</code></td><td>简单场景首选</td></tr><tr><td>Spring Boot 批量配置</td><td><code>@ConfigurationProperties</code></td><td>复杂配置、层级配置首选</td></tr><tr><td>加载自定义配置文件</td><td><code>@PropertySource</code> + <code>@Configuration</code></td><td>配合上述注解使用</td></tr><tr><td>原生 Java</td><td>无注解，用 <code>Properties</code> 类手动读取</td><td>无框架时的基础方案</td></tr></tbody></table><p><strong>关键提醒</strong>：</p><ul><li><code>@ConfigurationProperties</code> 需确保类有 <code>getter/setter</code>，否则绑定失败；</li><li><code>@PropertySource</code> 默认只支持 <code>.properties</code>，加载 <code>.yml</code> 需自定义 <code>PropertySourceFactory</code>；</li><li>Spring Boot 2.2+ 可通过 <code>@ConfigurationPropertiesScan</code> 自动扫描配置类，无需手动加 <code>@Component</code>。</li></ul>`,14))])}const y=t(d,[["render",h]]);export{m as __pageData,y as default};
